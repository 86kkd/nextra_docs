# AI在PCB自动布线中的研究与应用进展报告

## 引言与问题背景

PCB（印刷电路板）的布线是电子设计自动化中极具挑战的环节，需要将元件引脚在有限层的板子上用走线连接起来，同时满足一系列电气和物理设计规则。传统autorouter（自动布线器）历经数十年发展，但自动完成复杂PCB的布线仍非常困难。近年来，随着人工智能（AI）和机器学习（ML）的兴起，研究者和业界开始探索将强化学习、图神经网络等AI技术引入PCB自动布线领域，以期提高自动布线的效率和质量。本报告将分三部分讨论：(1) 当前主流的AI/ML布线方法及其进展，包括使用的模型和代表性成果；(2) 分析现有autorouter效果不理想的技术瓶颈；(3) 特定应用场景中效果较好的方案或工具及其原理和性能特点，并通过表格对关键研究/工具进行比较。

## 1. PCB自动布线中的AI与机器学习方法进展

### 1.1 强化学习（Reinforcement Learning, RL）方法

强化学习因其在决策优化问题上的优势，被广泛应用于PCB布线研究中。典型做法是将布线建模为序贯决策过程，由智能体（agent）逐步选择走线路径，目标是连通所有网络且遵守规则。InstaDeep公司推出的DeepPCB即采用深度强化学习来实现完全自动的PCB布线和元件布局。DeepPCB的AI代理通过与仿真环境交互，不断尝试走线方案，从“经验”中学习高质量布线策略，以加速复杂设计的布线收敛。另一家创业公司Quilter也基于强化学习构建自动PCB设计工具，其创始人相信RL可以用来端到端设计电路板。Quilter通过在云端评估上千种布线方案，短时间内给出多个候选结果供工程师选择，极大提高设计迭代速度。研究方面，美国爱荷华州立大学的团队提供了一个可定制的RL环境，用于开发和测试RL算法在PCB布线上的效果。还有学者提出将蒙特卡洛树搜索（MCTS）与深度RL相结合，用策略网络指导布线搜索，以平衡探索和利用，加速收敛（此类方法与AlphaGo下棋的思路类似）。总体而言，强化学习在PCB布线中已成为热点方向，其优势在于可通过模拟大量设计实例“训练”出通用布线策略，摆脱每次从头计算的低效模式。

### 1.2 图神经网络（Graph Neural Network, GNN）与深度学习方法

图神经网络善于处理电路连线这种图结构数据，近年来在EDA领域得到关注。有研究将PCB的连通拓扑表示为图，用GNN提取元件和网络之间的关系特征，再结合深度强化学习进行布线决策。例如Chen等人在芯片详细布线上设计了基于图神经网络+近端策略优化（PPO）的深度RL模型，用于引导复杂约束下的布线操作。这类模型利用GNN提炼电路网表的拓扑信息，将其转化为向量特征供RL决策网络参考，从而在满足严格设计规则的同时完成布线。虽然该工作针对IC定制电路，但方法上对PCB布线同样具有启发意义：GNN可用于学习PCB网络连线的全局关系（如关键网络拓扑、拥塞分布），辅助布线算法做更全局优化的决策。此外，一些深度学习模型被用于PCB辅助设计的其它方面。例如Google早年在芯片布局中使用卷积神经网络和强化学习选取元件摆放位置，取得显著效果，被称为“AlphaChip”。类似思想也可应用于PCB的器件布局与布线规划。总的来看，**强化学习+图神经网络**的组合正成为智能布线方法的主流：RL负责探索决策顺序，GNN提供电路图的表示，两者结合有望处理PCB布线中的复杂几何和连通约束。

### 1.3 其他AI/ML算法与代表性项目

除了RL和GNN，遗传算法（Genetic Algorithm）、粒子群优化等智能优化算法早在自动布线中有应用。现代AI的介入为这些算法注入数据驱动能力。例如Zuken公司指出，其AI布线方案综合采用了*机器学习模型*（从优秀设计中训练获得布线经验）和*优化算法*（针对特定目标如空间利用率、信号质量进行优化）等多种技术。以下表格总结了一些近期具有代表性的研究成果、开源项目和商业工具：

| **名称/项目** | **主要方法** | **适用场景与特点** | **性能及限制** |
| --- | --- | --- | --- |
| **DeepPCB (InstaDeep)** | 深度强化学习 (策略网络)+云端计算 | 商业AI自动布线+布局工具，支持多EDA软件接口；适用于中等规模板卡（≤8层，≤1200网）。通过RL经验快速找到可行布线方案。 | 可自动完成**100%网络连接**，实现DRC无误设计；标准版本几小时完成设计。局限：对**敏感关键网络仍需人工预布线**以确保性能。 |
| **Quilter AI** | 深度强化学习 + 物理规则约束 | 商业自主PCB设计软件，可自动元件放置与布线。通过模拟物理约束（信号、热等）优化结果，强调**板级物理准确性**。适合加速**简单至中等复杂度**板卡设计。 | 能在**数小时**内生成多个候选布局供选择；在允许增加布线层数时可达**100%自动布通**。限制：目前对**高密度/层数受限**板仍不及资深工程师，4层板可能只能完成约99%布线需手动收尾。 |
| **Cadence Allegro X AI** | 生成式AI + 传统EDA算法融合 | Cadence在高端PCB设计工具中集成的AI功能。擅长**器件自动布局**、**电源平面合成**和**关键网络自动布线**。可结合云计算加速高性能板设计，强调满足信号/电源完整性约束。 | **布局耗时从数天降至数分钟**；可自动走线高速差分对等关键网并遵守长度、时序要求。局限：多用于**提高初始布局质量**和完成**关键网**, 非全板一键布线；需要结合设计者复核调整，AI建议需人工验证。 |
| **Zuken CR-8000 AIPR** | 机器学习 (三阶段AI) + 智能搜索 | Zuken在CR-8000平台发布的“智能放置布线”Autorouter，包括Basic Brain、Dynamic Brain、Autonomous Brain三阶段。逐步引入**历史设计经验**和**用户反馈学习**，实现从增强用户体验到最终自我进化的AI布线。 | **阶段1**利用学习型算法显著提升布线优化效果；**阶段2**融合客户过往设计案例，加速迭代和提高生产力；**阶段3**目标是每新项目自我优化改进。现已发布初步版本。限制：技术新颖性高于成熟度，真正**完全自主**布线仍在探索中。 |
| **学术：分层强化布线** | 分层层次化强化学习 (HRL) | 针对**电力电子板**的学术方案。高层agent规划子电路布局，低层agents优化各子电路布线，以满足大电流、电磁兼容等特殊要求。特点是**按功能模块**分解复杂电路，实现局部优化与全局协调。 | 在**减少关键电流回路面积**、降低寄生参数方面表现出色。提高设计效率的同时保证性能，适合**大电流、高噪声敏感**的电源转换电路。局限：主要针对特定电源拓扑验证，尚未通用于一般PCB。 |
| **Flux Copilot** | 大语言模型 + 规则辅助 | 面向创客/业余的在线EDA工具Flux推出的AI助手。可根据用户提示**自动完成简单MCU电路的原理图和布线**，提供元件选择建议、调试辅助等。本质上是**设计辅助**而非完全自动布线。 | 能快速完成**简单两层板**的大部分连线工作，降低新手门槛。支持自然语言交互获得设计建议。局限：仅适用于**低复杂度**项目，复杂板仍需人工干预；AI生成内容需仔细验证正确性。 |
| **KiCad PCBNEW/FreeRouting** | 传统算法（A*搜索、形状算法等） | 开源EDA KiCad自带的交互推挤路由和社区常用的FreeRouting工具代表了**早期自动布线算法**。基于A*寻径、**形状布线**和**启发式退火**等实现自动/半自动布线。 | 可在**秒级**完成一般电路板中非关键网络的自动连接。对简单布局有效，配置恰当时能减少人工连线工作。然而**缺乏学习能力**，对复杂约束布线往往失败或产生劣质走线，效果强依赖用户提供的规则配置。 |

*(注：上表中未特别注明出处的数据综合自公开资料和产品文档。)*

以上代表性项目显示了当前AI+PCB布线的多样探索：从学术界的算法原型到EDA厂商的产品集成，再到初创企业的商业实践。总体趋势是**AI正用于辅助或部分自动完成PCB布线任务**，尤其在元件密度适中或有明确优化目标的情形下，AI能够显著缩短设计时间并给出接近人工水准的结果。

## 2. 现有自动布线工具效果不理想的原因分析

尽管已有各种自动布线器，但工程师实际使用中仍常发现其效果不尽如人意，主要原因在于以下技术瓶颈：

* **问题规模复杂、NP难度极高**：PCB布线属于NP完全问题，可能的走线组合呈指数级增长，使得传统算法难以在合理时间内找到全局最优解。经典autorouter往往采用启发式逐网布线或局部优化，很容易陷入**局部最优**导致部分信号布通失败。特别是当板上网络互连复杂且布线层有限时，搜索空间巨大，算法容易在搜索后期碰壁无法继续。当前商用布线器通常采用如A*搜索、形状布线、反复撤销重试等技巧，但仍无法保证100%布通率。这也是为何很多自动布线执行到最后会遗留少数“布不通”的网络需要人工处理。AI方法虽然引入了学习和更智能的决策，但NP难度决定了**完全自动**仍非常困难，只能寻求高效近似解。

* **设计约束复杂、多目标难以兼顾**：PCB布线需同时满足众多电气和工艺规则，例如线宽/间距、层叠结构、阻抗匹配、等长约束、过孔数量、隔离要求等等。这些约束彼此关联甚至冲突，需要综合权衡优化。传统算法往往将约束转化为简单**代价函数**求最短路径，但面对**多目标优化**表现有限。比如高速信号布线既要求最短路径降低时延，又要求避开干扰保持信号完整，且不同网络优先级也不同——这种复杂权衡很难用单一算法直接量化。现有autorouter通常需要用户预先针对不同约束设置权重和规则，但人为设置不可能面面俱到，导致自动结果往往不满足高性能设计隐含的一些要求。总之，**规则复杂性**和**多目标冲突**使自动布线效果易偏离资深工程师的精细要求。

* **缺乏人类经验和全局规划**：顶尖PCB Layout工程师依赖多年经验，会优先布置关键走线、规划好主要信号走向和层分配，再处理次要网络。这种全局布局/分区的策略很难用程序预先硬编码。早期autorouter常在**全局规划**不足的情况下贪心布线，结果造成拥塞或死区（例如先布了一批无关紧要的线却占据了关键通道）。人类经验如“先布高速差分对，时钟信号优先走最短”、“敏感模拟区域单独分区”等等，目前的AI/算法难以完全量化。**经验难量化**导致工具容易做出常识性错误，需要人工介入修正。即使一些AI通过训练从历史设计中学到部分布线模式，但每个板设计要求不同，没有经验指导就难以应对**非标准化需求**。

* **训练数据匮乏与模型可信度问题**：将AI用于PCB布线面临工程数据不足的现实挑战。一方面，大规模高质量的PCB设计数据集非常少，企业设计往往保密，**公开数据稀缺**。同时，标注什么是“好”的布线需要专家知识，自动评价布线优劣本身就很难。这限制了监督学习在PCB布线中的发挥。另一方面，黑盒AI模型的**可解释性和可靠性**不足也是障碍。AI自动生成的布线如果有隐蔽错误（如不明显的串扰隐患），可能导致硬件故障，但模型往往无法解释其决策逻辑，工程师难以完全信任。相比之下，传统EDA工具基于明确算法（如设计规则检查DRC、信号仿真）更容易让工程师掌控设计质量。因此目前AI布线多用于辅助，而**完全让AI接管关键设计**仍有顾虑，需要建立模型可信度和错误可控性。

* **现有工具算法陈旧、依赖用户配置**：很多老牌autorouter实际上是**半自动**性质，极大依赖用户事先设置走线规则和策略。没有精心调整的配置，自动结果往往糟糕甚至失败。这给人造成“autorouter不好用”的印象。即使现代工具引入交互式推挤等改进，许多设计师由于以往经验，对自动布线保持怀疑态度，不愿投入时间研究其配置技巧。因此自动布线器的效能在实际中被低估。**用户信任和使用程度低**也反过来限制了工具的改进方向。正如有分析指出，“自动布线器的有效性与配置它们的人的技能直接相关”，配置不佳时自然效果不理想。

综合以上原因，现有autorouter在处理**大型复杂板卡**时表现平平：不是无法完全布通，就是达不到性能要求或者走线布局过于不美观，需要大量人工调整。**NP难题的计算瓶颈**和**工程约束的复杂性**决定了这一领域没有简单解法。但AI的引入正是为了解决其中的部分痛点，例如通过学习**重用以往设计经验**、利用强化学习更智能地**探索解空间**，从而逐步克服传统算法的局限。下一节将讨论在某些特殊应用场景下，这些新方法是否已经展现出较好的效果。

## 3. 特定场景下的方案与工具及其性能

不同PCB设计场景对布线有不同要求，有些场景下自动布线技术相对更容易取得进展，或已有初步成功的案例：

* **高速数字信号场景**：高速接口、存储总线等信号需要严格的长度匹配和信号完整性控制。传统autorouter难以保证这些约束，但新一代AI辅助工具对此有所侧重。例如Cadence Allegro X AI能够自动布线**关键高速网络**，据称可遵守走线长度、时序和阻抗等约束，确保信号完整性。它通过在布线过程中内置**信号完整性分析**（结合Cadence的HyperLynx等仿真）对关键网即时校验，从而调整走线以满足规范。在实际测试中，有用户使用Allegro X AI为DDR等高速线自动生成初始拓扑，然后人工微调验证，发现AI布线大体满足等长和拓扑要求，显著减少了手工调整工作量。西门子Xpedition的软件则引入**过程预测**功能，实时学习用户的布线操作序列，能提示设计者满足约束的布线方案，帮助**中等经验**的工程师完成高速布线。尽管完全自动处理高速差分对仍需谨慎（例如走线的飞行时间比单纯长度更关键），但这些工具在**高速度信号布线**上已展现出可用性，至少能应付**拓扑简单、规则明确**的一些高速走线任务。

* **射频微波和模拟RF场景**：RF电路的布线更强调阻抗连续性、特殊形状走线（弯折、弧形）以及分布参数效应，目前自动布线对这类模拟需求支持很有限。尚未见专门针对RF布线的AI工具，大多EDA软件仍需工程师手动按照经验画微带线、环形器等结构。不过，一些**局部优化**尝试表明AI可在RF设计的子任务上提供帮助。例如有企业研发了AI算法用于**散热路径规划**——这对于高功率射频放大器PCB至关重要，AI可根据热模型优化铜皮形状和过孔分布，降低峰值温升。同时在射频屏蔽和关键走线隔离上，AI可以辅助检测布局中潜在的耦合风险。总体而言，**射频/模拟板**涉及大量隐性知识（如射频器件版图布局、电磁场仿真等），完全自动化尚无突破，但AI**辅助检查和优化**已在局部应用，如Cadence推出基于神经网络的信号完整性预测工具，可提前发现串扰和反射问题。未来若将这些AI助手与布线引擎结合，或许能在一定程度上改善RF布线的效率和可靠性。

* **低层数、高密度PCB场景**：层数很少（如双层板）但连接密度高的板子对布线挑战极大，因为可用走线层面有限。传统autorouter在双层板上往往束手无策，而**AI方法在此场景也并非万能**。Quilter团队的经验表明，给定固定较少的层数时，AI自动布线器有时无法完成所有连线，例如限定四层时可能只能布通约99%网络。但如果适当**放宽层数**（比如增加至六层），AI则很快找到了全部网络的布线方案。这说明对于低层高密度设计，**布线可行解的存在性**是主要瓶颈——层数不足时无论AI还是人工都难挤下所有线路。当层数足够但人手布线依然很花时间时，AI的并行搜索反而有优势。实际案例中，一些创业公司的AI布线云服务针对简单两层板提供了快速自动布线，常在**几十秒到几分钟**内完成一般电路的连通，但前提是电路相对简单、布局合理，没有大规模BGA等高复杂度结构。综上，**低层板**如果走线难度高，目前AI也难保全胜；但对于**低中等复杂度**的板（比如元件不太密的双层板、或4层内简单板），自动布线可以**较为完整且美观**地完成设计，这在开源社区（如KiCad的FreeRouting插件）已有许多成功示范。

* **电源和功率电子布局场景**：大电流电源板和功率转换电路强调**布局环路面积最小**、**铜箔粗短直**以及良好的热分布。传统autorouter不懂这些电气性能考量，因此这类板几乎全靠人工布线。近期有研究专攻此场景，采用**分层强化学习**来自动布局布线功率电路。该方法让高层智能体决定功率模块（如开关管、滤波电容）的布局，大幅缩短电流回路；再由低层智能体细化布线，确保粗线短线直达。实验表明，AI能自动整理出接近人工经验的功率走线，如开关回路的环路电感显著降低，布线所花时间却减少许多。这类方案还在原型阶段，但已经在**特定拓扑**（如Buck变换器、逆变器板）上取得不错效果。商用工具方面，Cadence等的AI功能也开始顾及电源分配：Allegro X AI提供了**自动电源/地平面合成**功能，可根据元件功耗自动划分覆铜区域和过孔阵列。这对于多层板的电源布线和散热设计很实用。在一些**纯数字电源供电**网络上（如FPGA多相供电网络），AI自动铺设电源平面比人工更快且差错少。因此在**电源布局**这一相对规则明晰的任务中，AI已可发挥较好效果，例如**自动创建规则对称的辐射状电源分配网络**，保持各负载节点电压均衡。需要指出，高压隔离、模拟电源等特殊布线目前仍需人工监督，AI暂无法处理安全间距和泄漏电流等隐含要求，但**在典型数字电源分配上AI正展现其实用价值**。

综上所述，AI/ML驱动的自动布线在某些**受限领域**已有一定成功：**高速信号**布线可以借助AI满足长度/时序要求，**低复杂度板**可实现完全自动快速布线，**功率板**的关键环路优化有学术突破，**电源平面**自动布局已进入主流EDA工具。而在**射频/高模拟**等更复杂场景，AI还主要停留在辅助工具阶段。总体而言，AI在PCB布线中正循序渐进地拓展适用范围——从**易标准化**的子任务开始（例如关键网、覆铜、电源分配），逐步攻克更复杂的整体布线难题。随着算法和算力的发展，我们有理由期待在不远的未来，AI能为更多类型的PCB提供**更理想的自动布线方案**，让工程师从繁琐绘线中解放出来，专注于更高层次的创新设计。但在此实现之前，人类专家经验与AI智能的结合仍是必要的——正如业界所言，“AI不会完全取代人工，但**将与人类协作**，共同驾驭PCB设计的方向盘”。

**参考文献：**

1. Bob Potock. *Exploring the Future of Circuit Board Design. Can AI-based PCB Design Really Happen?* Zuken USA Blog, 2025.
2. *DeepPCB: The smart, fast, easy way to design PCBs.* InstaDeep Ltd, 2025.
3. Zachariah Peterson. *The Current State of AI in PCB Design in 2023.* Altium Resources, 2023.
4. Barry Olney. *AI如何颠覆PCB设计？从手动布线到智能自动化的30年演进.* 《一步步新技术》杂志, 2025.
5. 新浪科技. *为什么还没把AI应用在画PCB上？*, 2025.
6. Max Maxfield. *You May Scoff, But AI-Powered PCB Layout Is Really Real.* EEJournal, 2023.
7. S.W.M. Steeghs-Turchina. *Design Automation of PCB Layout for Power Electronics with Reinforcement Learning.* MSc Thesis, TU Eindhoven, 2023.
8. Chen et al. *Chip Routing Method using GNN and PPO.* 自动化学报, 2023. (综述中的一节)
